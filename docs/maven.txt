Quick start
-----------

mvn jetty:run
  Runs app from source

mvn jetty:run-war
  Builds war and runs from that

mvn package
mvn war:war
  Builds war

mvn site
  Builds docs in target/site

mvn hibernate3:hbm2ddl
  Generates and executes db schema
  
mvn dbunit:operation
  Seed database with default data

mvn jackrabbit:import
  Seed JCR with default data  
  
mvn clean
  Remove all generated artifacts

mvn project-info-reports:dependencies
mvn surefire-report:report

Running tests against H2 testdatabase
-------------------------------------

There is a maven profile called testdb that creates and populates the database as an H2 database
rather than in postgres and then runs the tests against that. 
To use that use something like this:

mvn -P testdb test


Using our jackrabbit plugin
---------------------------

svn co maven-jackrabbit-plugin
cd maven-jackrabbit-plugin
mvn install

mvn org.otherobjects.maven.plugins:maven-jackrabbit-plugin:export

Plugin dev guide: http://maven.apache.org/guides/plugin/guide-java-plugin-development.html

How to install source for a project
-----------------------------------

Note you must have v2.2 of the install-plugin for this to work
Use -U option to make sure plugins are up to date?

mvn -U install:install-file -Dfile=spring-src.jar -DgroupId=org.springframework -DartifactId=spring -Dversion=2.0.4 -Dclassifier=sources -Dpackaging=jar


Reports
-------

A whole bunch of useful reports (and a project website) can be created by running:
 
 mvn site
 
Then check in target/site/ 

Note: To fix cobertura reports...
http://www.softonaut.com/2007/05/12/maven-cobertura-plugin-version-21-and-the-100-line-and-branch-coverage-problem/
 
Repository
----------------

http://repo1.maven.org/maven2/

To host your own: http://www.jfrog.org/sites/artifactory/latest/

Local .m2
----------------
Hibernate search
get hibernate search 3.0.0 beta4 from www.hibernate.org
mvn install:install-file -DgroupId=org.hibernate -DartifactId=hibernate-search -Dversion=3.0.0.beta4 -Dpackaging=jar -Dfile=/path/to/hibernate-search.jar


mvn install:install-file -DgroupId=com.drewnoakes -DartifactId=metadata-extractor -Dversion=2.3.1 -Dpackaging=jar -Dfile=metadata-extractor.jar -DgeneratePom=true
mvn install:install-file -DgroupId=net.sourceforge -DartifactId=xmlrpc -Dversion=1.1 -Dpackaging=jar -DgeneratePom=true -Dfile=xmlrpc-1.1.jar 
mvn install:install-file -DgroupId=net.sourceforge -DartifactId=flickrj -Dversion=1.0b4 -Dpackaging=jar -DgeneratePom=true -Dfile=flickrapi-1.0b4.jar 
mvn install:install-file -DgroupId=net.sourceforge -DartifactId=delicious-java -Dversion=1.14 -Dpackaging=jar -DgeneratePom=true -Dfile=delicious-java-1.14.jar 

Todo
----
Find out about profiles
Find out about archtypes
Create jcr plugin?

Creating plugins
----------------

mvn plugin:xdoc
  Generate docs
  
Docs
----

http://www.sonatype.com/book/ 
http://www.mvnrepository.com/

Repository setup
----------------
http://www.softonaut.com/2007/05/12/maven-cobertura-plugin-version-21-and-the-100-line-and-branch-coverage-problem/
otherobjects
maven-jackrabbit-plugin
jackrabbit-ocm-spring
mvn deploy:deploy-file -DgroupId=javax.jcr -DartifactId=jcr  -Dversion=1.0 -Dpackaging=jar -Dfile=jcr-1.0.jar -Durl=scpexe://slate/var/maven
mvn deploy:deploy-file -DgroupId=javax.transaction -DartifactId=jta  -Dversion=1.0.1B -Dpackaging=jar -Dfile=jta-1.0.1B.jar -Durl=scpexe://slate/var/maven
mvn deploy:deploy-file -DgroupId=net.sourceforge -DartifactId=flexjson -Dversion=1.2 -Dpackaging=jar -Dfile=flexjson-1.2.jar -Durl=scpexe://slate/var/maven
mvn deploy:deploy-file -DgroupId=org.apache.jackrabbit -DartifactId=jackrabbit-ocm -Dversion=1.0-SNAPSHOT -Dpackaging=jar -Dfile=flexjson-1.2.jar -Durl=scpexe://slate/var/maven